<div class="space-8"></div>
<div class="page-content">
	<div class="notification-custom-class">
		<div class="panel panel-info">
			<div class="panel-heading">
				<h3 class="panel-title">Notifications</h3>
			</div>
			<div class="panel-body list-grid-page">
				<div class="col-md-6">
					 <div id="search_box_container_notification"></div>
				</div>
				<div class="col-md-6 form-wrap">
					<form class="form-search">
							<i class="icon-search"></i>
							{{view Ember.TextField name="filter "valueBinding=filter placeholder="Search notifications" class="form-control"}}
					</form>
				</div>
			</div>
		</div>
		<div class="clearfix"></div>
		<div class="well well-sm clearfix">
			<div class="col-md-6">
				<div class="space-2"></div>
				
			</div>
			<div class="col-md-6">
				<div class="pull-right">
				{{#if questionAction}}
                    {{#if questionAction}}
                        <button  class="btn btn-xs btn-primary notify" {{ action "markAsRead" filteredNewNotifications on="click"}}>Mark as read All</button> <button class="btn btn-xs btn-yellow ignore" {{ action "ignore" filteredNewNotifications on="click"}}>Ignore All</button>
                    {{else}}
                        <button class="btn disabled" {{ action "markAsRead" filteredNewNotifications on="click"}}>Mark as read All</button> <button class="btn disabled" {{ action "ignore" filteredNewNotifications on="click"}}>Ignore All</button>
                    {{/if}}
                {{else}}
                    {{#if endorsementAction}}
                         <button  class="btn btn-xs btn-primary notify" {{ action "markAsRead" filteredNewNotifications on="click"}}>Mark as read All</button> <button class="btn btn-xs btn-yellow ignore" {{ action "ignore" filteredNewNotifications on="click"}}>Ignore All</button>
                    {{else}}
                        <button class="btn disabled" {{ action "markAsRead" filteredNewNotifications on="click"}}>Mark as read All</button> <button class="btn disabled" {{ action "ignore" filteredNewNotifications on="click"}}>Ignore All</button>
                    {{/if}}
                  {{/if}}
				</div>
			</div>
		</div>
		<div class="clearfix"></div>
		<table class="table table-striped table-bordered table-hover dataTable" id="sample-table-2" aria-describedby="sample-table-2_info">
			<thead>
				<tr role="row">
					
					<th role="columnheader" tabindex="0" aria-controls="sample-table-2" rowspan="1" colspan="1"  aria-label="Update: activate to sort column ascending">
						Type
					</th>
					<th class="hidden-480" role="columnheader" tabindex="0" aria-controls="sample-table-2" rowspan="1" colspan="1"  aria-label="Status: activate to sort column ascending">Messages</th>
					<th  role="columnheader" tabindex="0" aria-controls="sample-table-2" rowspan="1" colspan="1"  aria-label="Update: activate to sort column ascending">Date</th>
					
					<th class="sorting_disabled" role="columnheader" rowspan="1" colspan="1"  aria-label="">Actions</th>
				</tr>
			</thead>
			<tbody role="alert" aria-live="polite" aria-relevant="all">
				
					{{#each notificationObj in  filteredNewNotifications}}
					<tr class="odd">
						<td class="no-background-lp">
					
							{{{unbound convertToUpperCaseASCategory notificationObj._source.objectType}}}
						</td>
						<td class="no-background-lp">
                         <div class="itemdiv commentdiv">
								<div class="user">
									{{avatarMini notificationObj._source.actor.displayName notificationObj._source.actor.id}}
								</div>

									<div class="body">
									<div class="text">
										<i class="icon-quote-left"></i>
										{{{unbound formActivityStreamDisplayTitle  notificationObj._source.notification.message notificationObj._source.object.displayName  notificationObj._source.object.url notificationObj._source.object.objectType notificationObj._source.object.id notificationObj._source.actor.id notificationObj._source.actor.displayName}}}
									</div>
								</div>																	
							</div>
						</td>
						
						<td class="no-background-lp">
      						<span class="label label-info arrowed arrowed-in-right"><i class='icon-time bigger-110'>&nbsp;</i>{{from-now notificationObj._source.notification.published}}</span>
   						</td>
						<td class="no-background-lp">
						    <div class="visible-md visible-lg hidden-sm hidden-xs action-buttons">
						       {{#if notificationObj.markedRead }}
						        <span class="blue">
						            <i class="icon-checkmark bigger-130"></i>
						          </span>&nbsp;
						           <span class="red">
						            <i class="icon-remove bigger-130"></i>
						          </span>
						       {{else}}
						        <a href="#" {{ action "markAsRead" notificationObj on="click"}} data-rel="tooltip" class="tooltip-info" href="#" data-original-title="Mark as Read" style="margin:0px 0px; padding:1px;">
						          <span class="blue">
						            <i class="icon-checkmark bigger-130"></i>
						          </span>
						        </a>
						        <a href="#" {{ action "ignore" notificationObj on="click"}} data-rel="tooltip" class="tooltip-error" href="#" data-original-title="Ignore">
						          <span class="red">
						            <i class="icon-remove bigger-130"></i>
						          </span>
						        </a>
						       {{/if}} 
						       
      						</div>
      						<div class="visible-xs visible-sm hidden-md hidden-lg">
       							<div class="inline position-relative">
						          <button data-toggle="dropdown" class="btn btn-minier btn-yellow dropdown-toggle">
						            <i class="icon-caret-down icon-only bigger-120"></i>
						          </button>
						          <ul class="dropdown-menu dropdown-only-icon dropdown-yellow pull-right dropdown-caret dropdown-close">
						              {{#if notificationObj.markedRead }}
							          	<li style="padding-left:20px;">
							                <span class="blue">
							                  <i class="icon-checkmark bigger-120"></i>
							                </span>
							            </li>
							            <li style="padding-left:20px;">
							                <span class="red">
							                  <i class="icon-remove bigger-120"></i>
							                </span>
							            </li>

							          {{else}}
							            <li>
							              <a title="" {{ action "markAsRead" notificationObj on="click"}}data-rel="tooltip" class="tooltip-info" href="#" data-original-title="Mark as Read" style="margin:0px 0px; padding:1px;">
							                <span class="blue">
							                  <i class="icon-checkmark bigger-120"></i>
							                </span>
							              </a>
							            </li>
							            <li>
							              <a title="" data-rel="tooltip" class="tooltip-error" {{ action "ignore" notificationObj on="click"}} href="#" data-original-title="Ignore">
							                <span class="red">
							                  <i class="icon-remove bigger-120"></i>
							                </span>
							              </a>
							            </li>
							           {{/if}}
						          </ul>
        						</div>
      						 </div>
						</td>
					</tr>
					{{/each}}

					{{#each notificationObj in  notifications.oldNotifications}}
					<tr class="odd">
						<td class="no-background-lp">
							{{{notificationObj._source.target.objectType}}}
						</td>
						<td class="no-background-lp">
							<img src="/knowledgecenter/profiles/{{unbound convertToLowerCaseName notificationObj._source.actor.displayName}}_mini.jpg" alt="Photo">

							{{{unbound formActivityStreamDisplayTitle  notificationObj._source.notification.message notificationObj._source.object.displayName  notificationObj._source.object.url notificationObj._source.object.objectType notificationObj._source.object.id notificationObj._source.actor.id notificationObj._source.actor.displayName}}}

							<div class="time">
								<i class="icon-time bigger-110"></i>
								{{from-now notificationObj._source.notification.created}}
							</div>
						</td>
						<td class="no-background-lp">

						</td>
					</tr>
					{{/each}}
				</tbody>
			</table>
			<div class="clearfix"></div>
		</div>
	</div>
